<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<p id="notice"><%= notice %></p>


<style>
body {
  margin:0;
  padding-top: 70px;
  font-family: 'Montserrat';
  background-color: #ebe8df;
}
.center {
  margin-left: auto;
  margin-right: auto;
  width: 80%;
  text-align:center;
}
th {
  background: #450012;
  color:white;
  
}
table {
  margin-top: 5%;
}
tr:nth-child(odd) {
  background-color: #F5D5CB;
}
nav{
  background-color: #450012;
}
.navbar .navbar-nav .nav-link:hover {
  background-color: #450012;
  color: #fff;
}
.sort{
  margin-left: auto;
  margin-right: auto;
  width: 50%;
  border-style: solid;
  border-color: #450012;
  background-color: white;
  overflow-x:auto;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24);
}
</style>

<nav class="navbar fixed-top navbar-expand-sm navbar-dark">
  <div class="container-fluid">
    <a style="background-color:transparent;" class="navbar-brand" href="#">CSCE Recommendation Tracker</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <%= link_to 'Students', students_path, class: 'nav-link' %>
        </li>
        <li class="nav-item">
          <%= link_to 'Images', images_path, class: 'nav-link' %>
        </li>
        <li class="nav-item ">
          <%= link_to "Help Page", help_students_path, class: 'nav-link' %>
        </li>  
        <li class="nav-item ms-auto">
          <%= link_to "Sign Out", destroy_admin_session_path, class: 'nav-link' %>
        </li>  
      </ul>
    </div>
  </div>
</nav>


<div class="title">
    <h1 style="text-align:center; font-size:4vw; padding-top:5%;color:#450012" class="text-uppercase">Students Page</h1>
    <h4 style="text-align:center; font-size:2vw;color:#450012">View and search the list of students below</h4>
</div>


<h3> Import Students from CSV File </h3>

<%= form_tag import_students_path, multipart: true do %>

<%= form_with do |form| %>

  <%= form.label :semester %>
  <%= form.select :semester, ['Fall', 'Spring', 'Summer']%>

  <%= form.label :year %>
  <%= form.text_field :year %>

  <%= form.label :class %>
  <%= form.text_field :classname %>

  <%= file_field_tag :file %>

  <h3> Import Images </h3>
  <%= file_field_tag :files, multiple: true, accept:"jpg/png", name: 'files[]'%>
  <%= submit_tag "Upload Student Data" %>

 

  <% end %>
<% end %>

<br>

<p>
  <%= link_to 'Images', images_path %>
</p>
<p>
  <%= link_to 'Classes', courses_path %>
</p>



<%# start of body %>
<body>

<div class="sort">
<h2 style="text-align: center; margin-top: 2%; font-size:2vw; color:#450012"> Filter Students </h2>
<h2 style="text-align: center; margin-top: 2%; font-size:1vw; margin-bottom: 2%; color:#450012"> Enter parameters below to filter students </h2>
<%= form_tag "/students", method: "GET" do %>

<table style="border:1px solid; border-color: #450012;" class="center">
  <thead>
    <tr style="background-color: white; ">
      <th><%= label_tag :search_by_firstname, "First Name" %> </th>
      <th><%= label_tag :search_by_lastname , "Last Name"%> </th>
      <th><%= label_tag :search_by_recletter, "Recommendation Letter" %></th>
    </tr>
  </thead>
    <tr>
      <td><%= text_field_tag :search_by_firstname, params[:search_by_firstname] %> </td>
      <td><%= text_field_tag :search_by_lastname, params[:search_by_lastname] %></td>
      <td><%= text_field_tag :search_by_recletter, params[:search_by_recletter] %></td>
    </tr>
</table>
<div style="text-align:center; margin-left:auto; margin-right:auto; margin-bottom: 2%; margin-top: 2%">
  <%= submit_tag "Search" %>
</div>
<% end %>
</div>


<table style="border:1px solid; border-color: #450012;" class="center">
  <thead>
    <tr style="background-color: white; ">
      <th>Semester</th>
      <th>Year</th>
      <th>Email</th>
      <th>Firstname</th>
      <th>Lastname</th>
      <th>Notes</th>
      <th>Uin</th>
      <th>Major</th>
      <th>Finalgrade</th>
      <th>Updatedgrade</th>
      <th>Classname</th>
      <th>Recletter</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @students.each do |student| %>
      <tr>
        <td><%= student.semester%></td>
        <td><%= student.year %></td>
        <td><%= student.email %></td>
        <td><%= student.firstname %></td>
        <td><%= student.lastname %></td>
        <td><%= student.notes %></td>
        <td><%= student.uin %></td>
        <td><%= student.major %></td>
        <td><%= student.finalgrade %></td>
        <td><%= student.updatedgrade %></td>
        <td><%= student.classname %></td>
        <td><%= student.recletter %></td>
        <td><%= link_to 'Show', student %></td>
        <td><%= link_to 'Edit', edit_student_path(student) %></td>
        <td><%= link_to 'Destroy', student, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Student', new_student_path %>

<br>

</body>