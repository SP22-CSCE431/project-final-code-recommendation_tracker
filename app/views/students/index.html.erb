<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<p id="notice"><%= notice %></p>


<style>
body {
  margin:0;
  padding-top: 70px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  background-color: #ebe8df;
}
.center {
  margin-left: auto;
  margin-right: auto;
  width: 80%;
  text-align:center;
}
th {
  background: #450012;
  color:white;
  
}
table {
  margin-top: 5%;
}
tr:nth-child(odd) {
  background-color: #ab4e52;
}
nav{
  background-color: #450012;
}
.navbar .navbar-nav .nav-link:hover {
  background-color: #450012;
  color: #fff;
}
</style>

<nav class="navbar fixed-top navbar-expand-sm navbar-dark">
  <div class="container-fluid">
    <a style="background-color:transparent;" class="navbar-brand" href="#">CSCE Recommendation Tracker</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <%= link_to 'Students', students_path, class: 'nav-link' %>
        </li>
        <li class="nav-item">
          <%= link_to 'Images', images_path, class: 'nav-link' %>
        </li>
        <li class="nav-item">
          <%= link_to "Help Page", help_students_path, class: 'nav-link' %>
        </li>  
      </ul>
    </div>
  </div>
</nav>


<h1 style="text-align: center; margin-top: 5%; font-size:5vw; margin-bottom: 5%; color:#450012 " class="text-uppercase">Students</h1>



<h3> Import Students from CSV File </h3>

<%= form_tag import_students_path, multipart: true do %>

<%= form_with do |form| %>

  <%= form.label :semester %>
  <%= form.text_field :semester %>

  <%= form.label :year %>
  <%= form.text_field :year %>

  <%= form.label :class %>
  <%= form.text_field :classn %>

  <%= file_field_tag :file %>

  <h3> Import Images </h3>
  <%= file_field_tag :files, multiple: true, accept:"jpg/png", name: 'files[]'%>
  <%= submit_tag "Upload Student Data" %>

<% end %>

<br>

<p>
  <%= link_to 'Images', images_path %>
</p>
<p>
  <%= link_to 'Classes', courses_path %>
</p>

<%= form_tag "/students", method: "GET" do %>
  <%= label_tag :search_by_firstname %>
  <%= text_field_tag :search_by_firstname, params[:search_by_firstname] %>
  <%= label_tag :search_by_lastname %>
  <%= text_field_tag :search_by_lastname, params[:search_by_lastname] %>
  <%= label_tag :search_by_recletter %>
  <%= text_field_tag :search_by_recletter, params[:search_by_recletter] %>
  <%= submit_tag "Search" %>
<% end %>


<% end %>

<body>
<table style="border:1px solid; border-color: #450012;" class="center">
  <thead>
    <tr style="background-color: white; ">
      <th>Semester</th>
      <th>Year</th>
      <th>Email</th>
      <th>Firstname</th>
      <th>Lastname</th>
      <th>Notes</th>
      <th>Uin</th>
      <th>Major</th>
      <th>Finalgrade</th>
      <th>Updatedgrade</th>
      <th>Classname</th>
      <th>Recletter</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @students.each do |student| %>
      <tr>
        <td><%= student.semester%></td>
        <td><%= student.year %></td>
        <td><%= student.email %></td>
        <td><%= student.firstname %></td>
        <td><%= student.lastname %></td>
        <td><%= student.notes %></td>
        <td><%= student.uin %></td>
        <td><%= student.major %></td>
        <td><%= student.finalgrade %></td>
        <td><%= student.updatedgrade %></td>
        <td><%= student.classname %></td>
        <td><%= student.recletter %></td>
        <td><%= link_to 'Show', student %></td>
        <td><%= link_to 'Edit', edit_student_path(student) %></td>
        <td><%= link_to 'Destroy', student, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Student', new_student_path %>

<br>

</body>